# Netlify configuration for a minimal static site

[build]
  # Publish the root of the repository (all site files are in the repo root)
  publish = "."

# 404 handling
# Netlify will automatically serve /404.html for missing pages.
# The redirect below makes this behavior explicit (no SPA redirects involved).
[[redirects]]
  from = "/*"
  to = "/404.html"
  status = 404

# Special handling for Sanity Studio at /studio path
# This ensures all Studio routes work correctly
[[redirects]]
  from = "/studio/*"
  to = "/studio/index.html"
  status = 200

# Handle Sanity static assets
# This fixes the 'disallowed MIME type' error by correctly mapping
# /static/file.js requests to /studio/static/file.js where the actual files exist
# This is required because Sanity Studio index.html references paths starting with /static/
[[redirects]]
  from = "/static/*"
  to = "/studio/static/:splat"
  status = 200